# Quick Start
Clone this repository to your desired directory:

```shell
git clone git@github.com:GarF1eldGo/DataVizA5.git
```
Then go to the `perfect_sleep` directory:

```shell
cd DataVizA5/perfect_sleep
```
Run the following command to install the dependencies:

```shell
npm install
```
> this process may take a while.

After the installation is done, you can run the project by running the following command:

```shell
npm start
```
> Since I already add needed dependencies to the `package.json` file, you don't need to install them again. So you can directly run the project after installing the dependencies.</br>
If you encounter any dependency issues, this [chapter](#Installation) addresses some of the installation issues.
</br>

# Branches and Submissions
We have two branches in this repository:
- `gh-pages` branch is for deployment. Our website is hosted on this branch.
- `main` branch is for development. So, we could try out new features and test them before deploying them to the `gh-pages` branch.

In the `main` branch, we have all the datasets, code, and notebooks that we used to create the visualizations. We could push any changes to this branch, and this won't affect the website because the website is hosted on the `gh-pages` branch.
</br>
To push changes to the `main` branch, you can run the following commands:
```shell
git add .
git commit -m "Your commit message"
git push origin main
```
</br>

In the `gh-pages` branch, we have the static files generated by the build process. The files are from `perfect_sleep/build` directory. We don't need to push any changes to this branch manually. </br>
We can deploy the project by running the following command in the `perfect_sleep` directory:
```shell
npm run deploy
```
> This command will build the project into static files saved in `perfect_sleep/build` directory and deploy it to the `gh-pages` branch. 
</br>
Please wait for a few minutes after running the command. The github actions may take a few minutes to deploy the project.


By default, the new commit on the gh-pages branch will have a commit message of "Updates". You can specify a custom commit message via the -m option, like this:
```shell
npm run deploy -- -m "Your custom message"
```

</br>

# File Structure
The file structure of the project is as follows:
```C
|--data # contains all the datasets
|--notebooks # contains all the jupyter notebooks
|--|-- data_preprocessing 
|--|-- prediction_model 
|--perfect_sleep # react project
|--|-- build # static files generated by the build process
|--|-- public
|--|-- node_modules # dependencies
|--|-- src # source files
|--|--|-- asset # images and icons
|--|--|-- components # react components
|--|-- package.json # dependencies management
|--Deployment.md
|--README.md
```
> It is recommended to create directories for new components or pages in the `src/components` directory. This will help to keep the project organized and easy to maintain.

</br>

# Installation

## Install gh-pages package
Run the following command to install gh-pages package:

```shell
npm install gh-pages --save-dev
```
</br>

## Install D3

run the following command to install D3:

```shell
npm install d3 --save-dev
```

Then require/import it:

```javascript
import * as d3 from "d3";
```
</br>

## Install [react-scrollama](https://jsonkao.github.io/react-scrollama/)
Run the following command to install react-scrollama:

```shell
npm install react-scrollama --save-dev
```

Then require/import it:

```javascript
import { Scrollama, Step } from "react-scrollama";
```  


</br>

You can also use the original [scrollama](https://github.com/russellsamora/scrollama#how-to-use) .   
<details>
<summary>Install scrollama</summary>
Run the following command to install Scrollama:

```shell
npm install scrollama intersection-observer --save
```

Then require/import it:

```javascript
import scrollama from "scrollama"; // or...
const scrollama = require("scrollama");
```

For usage tutorial, check this website: [Usage](https://github.com/russellsamora/scrollama#how-to-use)


</details>

